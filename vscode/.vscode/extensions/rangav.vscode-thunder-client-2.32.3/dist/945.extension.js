"use strict";exports.id=945,exports.ids=[945],exports.modules={1070:(e,t,n)=>{n.d(t,{CreateTokenCommand:()=>Qe,SSOOIDCClient:()=>ue});var s=n(36),i=n(39),o=n(40),r=n(41),a=n(57),c=n(42),d=n(58),p=n(59),u=n(64),l=n(68),h=n(69),m=n(43);const x=async(e,t,n)=>({operation:(0,m.u)(t).operation,region:await(0,m.t)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});const w=e=>{const t=[];switch(e.operation){case"CreateToken":case"RegisterClient":case"StartDeviceAuthorization":t.push({schemeId:"smithy.api#noAuth"});break;default:t.push(function(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(e,t)=>({signingProperties:{config:e,context:t}})}}(e))}return t},E={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},v="3.699.0";var y=n(78),I=n(71),S=n(73),g=n(74),f=n(60),b=n(51),P=n(75),O=n(65),C=n(76),k=n(63),R=n(47),j=n(50),D=n(55),$=n(56);const A="required",z="fn",T="argv",U="ref",q=!0,_="isSet",F="booleanEquals",G="error",M="endpoint",H="tree",V="PartitionResult",B="getAttr",N={[A]:!1,type:"String"},J={[A]:!0,default:!1,type:"Boolean"},L={[U]:"Endpoint"},W={[z]:F,[T]:[{[U]:"UseFIPS"},!0]},K={[z]:F,[T]:[{[U]:"UseDualStack"},!0]},Q={},X={[z]:B,[T]:[{[U]:V},"supportsFIPS"]},Y={[U]:V},Z={[z]:F,[T]:[!0,{[z]:B,[T]:[Y,"supportsDualStack"]}]},ee=[W],te=[K],ne=[{[U]:"Region"}],se={version:"1.0",parameters:{Region:N,UseDualStack:J,UseFIPS:J,Endpoint:N},rules:[{conditions:[{[z]:_,[T]:[L]}],rules:[{conditions:ee,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:G},{conditions:te,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:G},{endpoint:{url:L,properties:Q,headers:Q},type:M}],type:H},{conditions:[{[z]:_,[T]:ne}],rules:[{conditions:[{[z]:"aws.partition",[T]:ne,assign:V}],rules:[{conditions:[W,K],rules:[{conditions:[{[z]:F,[T]:[q,X]},Z],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Q,headers:Q},type:M}],type:H},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:G}],type:H},{conditions:ee,rules:[{conditions:[{[z]:F,[T]:[X,q]}],rules:[{conditions:[{[z]:"stringEquals",[T]:[{[z]:B,[T]:[Y,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Q,headers:Q},type:M},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Q,headers:Q},type:M}],type:H},{error:"FIPS is enabled but this partition does not support FIPS",type:G}],type:H},{conditions:te,rules:[{conditions:[Z],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Q,headers:Q},type:M}],type:H},{error:"DualStack is enabled but this partition does not support DualStack",type:G}],type:H},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Q,headers:Q},type:M}],type:H}],type:H},{error:"Invalid Configuration: Missing Region",type:G}]},ie=new $.kS({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),oe=(e,t={})=>ie.get(e,(()=>(0,$.sO)(se,{endpointParams:e,logger:t.logger})));$.mw.aws=D.UF;var re=n(77);const ae=e=>{(0,l.I9)(process.version);const t=(0,re.I)(e),n=()=>t().then(l.lT),s=(e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??R.E,base64Encoder:e?.base64Encoder??R.n,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??oe,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??w,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new C.f2},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new c.mR}],logger:e?.logger??new l.N4,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??k.D,utf8Decoder:e?.utf8Decoder??j.ar,utf8Encoder:e?.utf8Encoder??j.Pq}))(e);return(0,y.I)(process.version),{...s,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:e?.bodyLengthChecker??P.n,credentialDefaultProvider:e?.credentialDefaultProvider??I.v6,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,S.pf)({serviceId:s.serviceId,clientVersion:v}),maxAttempts:e?.maxAttempts??(0,f.Z)(u.qs),region:e?.region??(0,f.Z)(a.GG,a.zH),requestHandler:b.$c.create(e?.requestHandler??n),retryMode:e?.retryMode??(0,f.Z)({...u.kN,default:async()=>(await n()).retryMode||O.L0}),sha256:e?.sha256??g.V.bind(null,"sha256"),streamCollector:e?.streamCollector??b.kv,useDualstackEndpoint:e?.useDualstackEndpoint??(0,f.Z)(a.e$),useFipsEndpoint:e?.useFipsEndpoint??(0,f.Z)(a.Ko),userAgentAppId:e?.userAgentAppId??(0,f.Z)(S.hV)}};var ce=n(79),de=n(37);const pe=e=>{const t=e.httpAuthSchemes;let n=e.httpAuthSchemeProvider,s=e.credentials;return{setHttpAuthScheme(e){const n=t.findIndex((t=>t.schemeId===e.schemeId));-1===n?t.push(e):t.splice(n,1,e)},httpAuthSchemes:()=>t,setHttpAuthSchemeProvider(e){n=e},httpAuthSchemeProvider:()=>n,setCredentials(e){s=e},credentials:()=>s}};class ue extends l.Kj{constructor(...[e]){const t=ae(e||{}),n=(m=t,{...m,useDualstackEndpoint:m.useDualstackEndpoint??!1,useFipsEndpoint:m.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"});var m;const w=(0,r.Dc)(n),E=(0,u.$z)(w),v=(0,a.TD)(E),y=(0,s.OV)(v),I=(0,p.Co)(y);var S;const g=((e,t)=>{const n={...(0,ce.Rq)(e),...(0,l.xA)(e),...(0,de.eS)(e),...pe(e)};return t.forEach((e=>e.configure(n))),{...e,...(0,ce.$3)(n),...(0,l.uv)(n),...(0,de.jt)(n),...(s=n,{httpAuthSchemes:s.httpAuthSchemes(),httpAuthSchemeProvider:s.httpAuthSchemeProvider(),credentials:s.credentials()})};var s})((S=I,{...(0,h.h)(S)}),e?.extensions||[]);super(g),this.config=g,this.middlewareStack.use((0,r.sM)(this.config)),this.middlewareStack.use((0,u.ey)(this.config)),this.middlewareStack.use((0,d.vK)(this.config)),this.middlewareStack.use((0,s.TC)(this.config)),this.middlewareStack.use((0,i.Y7)(this.config)),this.middlewareStack.use((0,o.n4)(this.config)),this.middlewareStack.use((0,c.wB)(this.config,{httpAuthSchemeParametersProvider:x,identityProviderConfigProvider:async e=>new c.h$({"aws.auth#sigv4":e.credentials})})),this.middlewareStack.use((0,c.lW)(this.config))}destroy(){super.destroy()}}var le=n(44);class he extends l.TJ{constructor(e){super(e),Object.setPrototypeOf(this,he.prototype)}}class me extends he{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,me.prototype),this.error=e.error,this.error_description=e.error_description}}class xe extends he{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,xe.prototype),this.error=e.error,this.error_description=e.error_description}}class we extends he{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,we.prototype),this.error=e.error,this.error_description=e.error_description}}class Ee extends he{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,Ee.prototype),this.error=e.error,this.error_description=e.error_description}}class ve extends he{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,ve.prototype),this.error=e.error,this.error_description=e.error_description}}class ye extends he{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,ye.prototype),this.error=e.error,this.error_description=e.error_description}}class Ie extends he{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Ie.prototype),this.error=e.error,this.error_description=e.error_description}}class Se extends he{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Se.prototype),this.error=e.error,this.error_description=e.error_description}}class ge extends he{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,ge.prototype),this.error=e.error,this.error_description=e.error_description}}class fe extends he{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,fe.prototype),this.error=e.error,this.error_description=e.error_description}}class be extends he{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,be.prototype),this.error=e.error,this.error_description=e.error_description}}class Pe extends he{constructor(e){super({name:"InvalidRequestRegionException",$fault:"client",...e}),this.name="InvalidRequestRegionException",this.$fault="client",Object.setPrototypeOf(this,Pe.prototype),this.error=e.error,this.error_description=e.error_description,this.endpoint=e.endpoint,this.region=e.region}}class Oe extends he{constructor(e){super({name:"InvalidClientMetadataException",$fault:"client",...e}),this.name="InvalidClientMetadataException",this.$fault="client",Object.setPrototypeOf(this,Oe.prototype),this.error=e.error,this.error_description=e.error_description}}class Ce extends he{constructor(e){super({name:"InvalidRedirectUriException",$fault:"client",...e}),this.name="InvalidRedirectUriException",this.$fault="client",Object.setPrototypeOf(this,Ce.prototype),this.error=e.error,this.error_description=e.error_description}}const ke=e=>({...e,...e.clientSecret&&{clientSecret:l.$H},...e.refreshToken&&{refreshToken:l.$H},...e.codeVerifier&&{codeVerifier:l.$H}}),Re=e=>({...e,...e.accessToken&&{accessToken:l.$H},...e.refreshToken&&{refreshToken:l.$H},...e.idToken&&{idToken:l.$H}});var je=n(80);const De=async(e,t)=>{const n=(0,c.lI)(e,t);let s;return n.bp("/token"),s=JSON.stringify((0,l.s)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:e=>(0,l.Ss)(e)})),n.m("POST").h({"content-type":"application/json"}).b(s),n.build()},$e=async(e,t)=>{if(200!==e.statusCode&&e.statusCode>=300)return Ae(e,t);const n=(0,l.Tj)({$metadata:Ke(e)}),s=(0,l.Y0)((0,l.Xk)(await(0,je.Y2)(e.body,t)),"body"),i=(0,l.s)(s,{accessToken:l.lK,expiresIn:l.ET,idToken:l.lK,refreshToken:l.lK,tokenType:l.lK});return Object.assign(n,i),n},Ae=async(e,t)=>{const n={...e,body:await(0,je.CG)(e.body,t)},s=(0,je.cJ)(e,n.body);switch(s){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Te(n,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Ue(n,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await qe(n,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await _e(n,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Fe(n,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await Me(n,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await Ve(n,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await Ne(n,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await Je(n,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await Le(n,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await We(n,t);case"InvalidRequestRegionException":case"com.amazonaws.ssooidc#InvalidRequestRegionException":throw await Be(n,t);case"InvalidClientMetadataException":case"com.amazonaws.ssooidc#InvalidClientMetadataException":throw await Ge(n,t);case"InvalidRedirectUriException":case"com.amazonaws.ssooidc#InvalidRedirectUriException":throw await He(n,t);default:const i=n.body;return ze({output:e,parsedBody:i,errorCode:s})}},ze=(0,l.jr)(he),Te=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new me({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Ue=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new xe({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},qe=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new we({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},_e=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new Ee({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Fe=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new ve({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Ge=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new Oe({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Me=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new ye({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},He=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new Ce({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Ve=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new Ie({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Be=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{endpoint:l.lK,error:l.lK,error_description:l.lK,region:l.lK});Object.assign(n,i);const o=new Pe({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Ne=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new Se({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Je=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new ge({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Le=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new fe({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},We=async(e,t)=>{const n=(0,l.Tj)({}),s=e.body,i=(0,l.s)(s,{error:l.lK,error_description:l.lK});Object.assign(n,i);const o=new be({$metadata:Ke(e),...n});return(0,l.Mw)(o,e.body)},Ke=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});class Qe extends(l.uB.classBuilder().ep(E).m((function(e,t,n,s){return[(0,le.TM)(n,this.serialize,this.deserialize),(0,p.rD)(n,e.getEndpointParameterInstructions())]})).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(ke,Re).ser(De).de($e).build()){}}};